
<!DOCTYPE html>
<html>
<head>
    <base href="https://demos.telerik.com/kendo-ui/templates/index">
    <style>html { font-size: 14px; font-family: Arial, Helvetica, sans-serif; }</style>
    <title>Softek Exercise</title>
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.911/styles/kendo.common-material.min.css" />
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.911/styles/kendo.material.min.css" />
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2018.3.911/styles/kendo.material.mobile.min.css" />

    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2018.3.911/js/kendo.all.min.js"></script>
    
</head>
<body>
<div class="header">
  <h1> Kendo UI DataSource</h1>
</div>
<div>
  <div id="wrapper">
     <div id="splitter">
       <div id="left">
         <div class="inner">
           <div class="demo-section k-content wide">
                <div>
                    <h4>Select product name</h4>
                    <input id="productName" name="productName" />
                </div>                
            </div>
         </div>
       </div>
     </div>
     <div id="middle">
       <div id="right-top">
         <div class="inner">
           <h3>Data</h3>
           <div id="dataGrid"> 
           </div>           
         </div>
       </div>
    </div>
    <div id="right">
       <div class="right">
         <h3>Selected</h3>
         <form id="gridEditor">
            <label>Id <input type="text" name="Id" data-bind="value: Id" class="k-textbox" /></label>
           <label>Name <input type="text" name="Name" data-bind="value: Name" class="k-textbox" /></label>
           <label>Category <input type="text" name="Category" data-bind="value: Category" class="k-textbox" /></label>
           <label>Stock <input type="text" name="Stock" data-bind="value: Stock" class="k-textbox" /></label>
           <label>Price <input type="text" name="Price" data-bind="value: Price" class="k-textbox" /></label>
          </form>
       </div>
     </div>
  </div>
</div>

<script>
$(function(){    
   // define datasource
   // I stored the json provided in a hosting server
   var productsDataSource = new kendo.data.DataSource({
      //type: "odata",
      serverFiltering: false,
      serverPaging: true,
      serverSorting: true,
      pageSize: 10,
      transport: {
        read: "https://api.myjson.com/bins/rmb5w"
      },
    });   

    productsDataSource.read();
  
    // search field
    $("#productName").kendoAutoComplete({
       autoBind: false,
       dataSource: productsDataSource,
       dataTextField: "Name",
       filter: "contains",
       minLength: 1                                                       
    });
  	
  	// Display Items selected
  	$("#gridEditor").kendoValidator();
  	
  	// Build grid
    $("#dataGrid").kendoGrid({
      dataSource: productsDataSource,
      autoBind: false,
      pageable: true,
      height: 300,
      selectable: true,
      columns: [
        {field: "Id", title: "Id"},
        { field: "Name", title: "Name" },
        { field: "Category", title:"Category"},
        { field: "Stock", title:"Stock", width: "100px" },
        { field: "Price",title:"Price", width: "100px", format: "{0:c}"}
      ],
      change: function(e) {        
        var selectedRows = this.select();
        var selectedDataItems = [];
        for (var i = 0; i < selectedRows.length; i++) {
          var dataItem = this.dataItem(selectedRows[i]);
          selectedDataItems.push(dataItem); console.log("item selected "+dataItem.Name);
          // push element to selected form
          kendo.bind($("#gridEditor"), dataItem);
        }
        // selectedDataItems contains all selected data items
      }
    }); 
});
</script>
</body>
</html>
